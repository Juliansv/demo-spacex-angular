<div class="register-container">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <mat-card appearance="outlined" class="form-content">
      <mat-card-content class="form-card-content">
        <h2 class="card-title">Register</h2>
        <mat-form-field>
          <mat-label>First name</mat-label>
          <input matInput formControlName="firstName" name="name" type="text" />
          @if (form.get('firstName')?.hasError('required')) {
          <mat-error>Please enter a valid name</mat-error>
          } @if (form.get('firstName')?.hasError('minlength')) {
          <mat-error>Name must be at least 3 characters long</mat-error>
          } @if (form.get('firstName')?.hasError('maxlength')) {
          <mat-error>Name must be at most 30 characters long</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>Last name</mat-label>
          <input
            matInput
            formControlName="lastName"
            name="lastName"
            type="text"
          />
          @if (form.get('lastName')?.hasError('required')) {
          <mat-error>Please enter a valid last name</mat-error>
          } @if (form.get('lastName')?.hasError('minlength')) {
          <mat-error>Last name must be at least 2 characters long</mat-error>
          } @if (form.get('lastName')?.hasError('maxlength')) {
          <mat-error>Last name must be at most 30 characters long</mat-error>
          }
        </mat-form-field>
        <mat-form-field class="form-field">
          <mat-label>Email</mat-label>
          <input
            matInput
            formControlName="username"
            name="email"
            type="email"
          />
          @if (form.get('username')?.hasError('required')) {
          <mat-error>Email is required</mat-error>
          } @if (form.get('username')?.hasError('email')){
          <mat-error>Please enter a valid email address</mat-error>
          } @else if (form.get('username')?.hasError('invalidUsername')) {
          <mat-error>Invalid Email</mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>Password</mat-label>
          <input
            matInput
            formControlName="password"
            name="password"
            type="password"
          />
          @if (form.get('password')?.hasError('required')) {
          <mat-error>Password is required</mat-error>
          } @if (form.get('password')?.hasError('pattern')) {
          <mat-error
            >Password must have upper case, lower case and number</mat-error
          >
          } @else if (form.get('password')?.hasError('minlength')) {
          <mat-error>Password must be at least 8 characters long</mat-error>
          } @else if (form.get('password')?.hasError('maxlength')) {
          <mat-error>Password must be at most 30 characters long</mat-error>
          }
        </mat-form-field>
        <button type="submit" mat-flat-button>Register</button>
      </mat-card-content>
    </mat-card>
  </form>
</div>
